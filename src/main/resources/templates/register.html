<!DOCTYPE html>
<html
  lang="en"
  th:replace="~{base :: parent(~{::#content},~{::title}, ~{::script})}"
>
  <head>
    <title>Sign Up | SyncBox</title>
  </head>
  <body>
    <section id="content" class="my-3">
      <div class="grid grid-cols-12">
        <div class="col-span-4 md:col-span-1 xl:col-span-2"></div>
        <div class="col-span-12 md:col-span-10 xl:col-span-8">
          <div
            class="block p-6 bg-white border border-gray-200 border-t-purple-700 border-t-8 rounded-xl shadow hover:bg-gray-100 dark:bg-gray-900 dark:border-t-purple-800 dark:border-gray-600 dark:hover:bg-gray-800"
          >
            <div th:replace="~{message :: alertBox}"></div>
            <div class="grid grid-cols-2">
              <div class="col-span-2 md:col-span-1">
                <h5
                  class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"
                >
                  Sign Up
                </h5>
                <p class="font-normal text-gray-700 dark:text-gray-400">
                  Manage your contact using SyncBox and save in the cloud.
                </p>
                <form
                  th:action="@{'/sign-up'}"
                  th:object="${userDto}"
                  method="post"
                  class="pr-5 mt-5"
                  novalidate
                >
                  <!-- NAME FIELD -->
                  <div class="mb-5">
                    <label
                      for="name"
                      class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                      >Full name</label
                    >
                    <input
                      type="text"
                      id="name"
                      th:field="*{name}"
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500"
                      placeholder="Enter name here."
                      required
                    />
                    <p
                      th:if="${#fields.hasErrors('name')}"
                      th:errors="*{name}"
                      class="text-sm px-1 text-red-600 dark:text-red-500"
                    ></p>
                  </div>
                  <!-- EMAIL FIELD -->
                  <div class="mb-5">
                    <label
                      for="email"
                      class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                      >Email</label
                    >
                    <input
                      type="email"
                      id="email"
                      th:field="*{email}"
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500"
                      placeholder="Enter email here."
                      required
                    />
                    <p
                      th:if="${#fields.hasErrors('email')}"
                      th:errors="*{email}"
                      class="text-sm px-1 text-red-600 dark:text-red-500"
                    ></p>
                  </div>
                  <!-- PASSWORD FIELDS -->
                  <div class="mb-5 grid grid-cols-2">
                    <div
                      class="col-span-2 md:col-span-1 mr-0 md:mr-2 mt-2 md:mt-0"
                    >
                      <div class="col-span-1">
                        <label
                          for="password"
                          class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                          >Password</label
                        >
                        <input
                          type="password"
                          id="password"
                          th:field="*{password}"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500"
                          placeholder="Enter password here."
                          required
                        />
                        <p
                          th:if="${#fields.hasErrors('password')}"
                          th:errors="*{password}"
                          class="text-sm px-1 text-red-600 dark:text-red-500"
                        ></p>
                      </div>
                    </div>
                    <div
                      class="col-span-2 md:col-span-1 ml-0 md:ml-2 mt-2 md:mt-0"
                    >
                      <label
                        for="confirmPassword"
                        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                        >Confirm Password</label
                      >
                      <input
                        type="password"
                        id="confirmPassword"
                        th:field="*{confirmPassword}"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500"
                        placeholder="Confirm password here."
                        required
                      />
                      <span
                        id="confirmPasswordError"
                        class="text-red-500 text-xs"
                      ></span>
                    </div>
                  </div>

                  <!-- ABOUT FIELD -->
                  <div class="mb-5">
                    <label
                      for="about"
                      class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                      >About</label
                    >
                    <textarea
                      id="about"
                      rows="4"
                      th:field="*{about}"
                      class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500"
                      placeholder="Enter about here."
                    ></textarea>
                  </div>

                  <!-- PHONE NUMBER FIELD -->
                  <div class="mb-5">
                    <label
                      for="phone"
                      class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                      >Phone number:</label
                    >
                    <div class="relative">
                      <div
                        class="absolute inset-y-0 start-0 top-0 flex items-center ps-3.5 pointer-events-none"
                      >
                        <svg
                          class="w-4 h-4 text-gray-500 dark:text-gray-400"
                          aria-hidden="true"
                          xmlns="http://www.w3.org/2000/svg"
                          fill="currentColor"
                          viewBox="0 0 19 18"
                        >
                          <path
                            d="M18 13.446a3.02 3.02 0 0 0-.946-1.985l-1.4-1.4a3.054 3.054 0 0 0-4.218 0l-.7.7a.983.983 0 0 1-1.39 0l-2.1-2.1a.983.983 0 0 1 0-1.389l.7-.7a2.98 2.98 0 0 0 0-4.217l-1.4-1.4a2.824 2.824 0 0 0-4.218 0c-3.619 3.619-3 8.229 1.752 12.979C6.785 16.639 9.45 18 11.912 18a7.175 7.175 0 0 0 5.139-2.325A2.9 2.9 0 0 0 18 13.446Z"
                          />
                        </svg>
                      </div>
                      <input
                        type="text"
                        id="phone"
                        th:field="*{phoneNumber}"
                        aria-describedby="helper-text-explanation"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500"
                        placeholder="Enter phone number here."
                        required
                      />
                      <p
                        th:if="${#fields.hasErrors('phoneNumber')}"
                        th:errors="*{phoneNumber}"
                        class="text-sm px-1 text-red-600 dark:text-red-500"
                      ></p>
                    </div>
                  </div>
                  <!-- SUBMIT BUTTON -->
                  <div class="text-center">
                    <button
                      type="submit"
                      id="signUpBtn"
                      class="w-full text-white disabled:cursor-not-allowed bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"
                    >
                      <i class="fa-solid fa-user-plus"></i> Sign Up
                    </button>
                  </div>
                </form>
              </div>

              <div
                class="hidden md:flex justify-center items-center align-middle col-span-1 border-l-2 border-gray-200 dark:border-gray-600"
              >
                <img src="/images/registerationPic.png" alt="" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <script>
      // VALIDATE PASSWORD
      // Function to validate password match
      function validatePasswords() {
        const password = document.getElementById("password").value;
        const confirmPassword =
          document.getElementById("confirmPassword").value;
        const confirmPasswordError = document.getElementById(
          "confirmPasswordError"
        );
        const signUpBtn = document.getElementById("signUpBtn");

        // Check if passwords match
        if (password !== confirmPassword) {
          confirmPasswordError.textContent = "Passwords do not match.";
          signUpBtn.disabled = true;
        } else {
          confirmPasswordError.textContent = ""; // Clear the error
          signUpBtn.disabled = false;
        }
      }

      // Add event listeners for dynamic validation
      document
        .getElementById("password")
        .addEventListener("input", validatePasswords);
      document
        .getElementById("confirmPassword")
        .addEventListener("input", validatePasswords);
    </script>
  </body>
</html>
